# 法律合同合规AI分析平台

基于中国法律法规的智能合规分析一体化界面

## 项目结构

```
new_legal/
├── config/                 # 配置文件
├── docs/                   # 文档
├── public/                 # 前端文件
│   ├── index.html         # 主页 - 合同上传和分析
│   ├── history.html       # 历史记录页面 - 完整的历史记录管理
│   ├── app.js            # 主页JavaScript逻辑
│   ├── history.js        # 历史记录页面JavaScript逻辑
│   └── index.html        # 主页HTML
├── server.js              # 后端服务器
├── utils/                 # 工具函数
└── test/                  # 测试文件
```

## 主要功能

### 1. 合同上传与分析 (index.html)
- 拖拽上传合同文件
- AI智能合规分析
- 实时分析结果展示
- 合规评分和风险提示
- AI合同优化建议

### 2. 历史记录管理 (history.html)
- 完整的历史记录列表
- 搜索和筛选功能
- 分页显示
- 点击预览详情弹框
- 下载和删除记录

## 页面特性

### 主页 (index.html)
- **简化历史记录**: 只显示最近5条记录
- **快速跳转**: 一键跳转到完整历史记录页面
- **专注分析**: 主要功能集中在合同分析上

### 历史记录页面 (history.html)
- **完整功能**: 包含所有历史记录管理功能
- **搜索筛选**: 支持文件名、内容、评分、时间筛选
- **分页浏览**: 大量记录的分页显示
- **详情预览**: 点击记录可弹框查看完整分析结果
- **操作功能**: 下载、删除、查看详情等

## 技术特点

- **模块化设计**: 将历史记录功能从主页分离
- **响应式布局**: 支持各种设备尺寸
- **现代化UI**: 使用Bootstrap 5和Font Awesome图标
- **交互体验**: 悬停效果、动画过渡、加载状态
- **数据管理**: 完整的CRUD操作支持

## 使用方法

1. **合同分析**: 访问 `index.html` 上传合同进行分析
2. **查看历史**: 在主页点击"查看完整历史"按钮
3. **历史管理**: 在 `history.html` 页面管理所有分析记录
4. **快速导航**: 使用左侧导航组件在不同页面间切换

## 数据库结构

基于 `test/contracts.sql` 中的数据结构：
- 合同基本信息
- AI分析结果
- 合规评分
- 风险因素
- 改进建议
- 相关法规匹配

## 开发说明

- 前端使用原生JavaScript，无需构建工具
- 后端使用Node.js + Express
- 数据库使用MySQL
- 支持PDF、Word、TXT等格式文件
- AI分析基于文本内容进行合规性评估 